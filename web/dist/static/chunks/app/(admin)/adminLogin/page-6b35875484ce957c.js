(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9078],{12602:function(e,s,t){Promise.resolve().then(t.bind(t,4961))},15883:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var r=t(1119),a=t(2265),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},o=t(10703),l=a.forwardRef(function(e,s){return a.createElement(o.Z,(0,r.Z)({},e,{ref:s,icon:n}))})},99376:function(e,s,t){"use strict";var r=t(35475);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}}),t.o(r,"useServerInsertedHTML")&&t.d(s,{useServerInsertedHTML:function(){return r.useServerInsertedHTML}})},4961:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var r=t(57437),a=t(2265),n=t(54534),o=t(16836),l=t(79525),i=t(30245),c=t(99376),d=t(15883),m=()=>{let e=(0,c.useRouter)(),[s,t]=(0,a.useState)(!1),[m,u]=(0,a.useState)(new Date().getFullYear()),[h,x]=(0,a.useState)({username:"",password:""}),[p,g]=(0,a.useState)("");(0,a.useEffect)(()=>{u(new Date().getFullYear()),b(),window.location.hostname.includes("fktool.com")&&x({username:"test",password:"test"})},[]);let f=(e,s)=>{x(t=>({...t,[e]:s}))},w=async()=>{if(0===h.username.length||0===h.password.length){n.ZP.error("用户名或密码不能为空");return}try{t(!0);let s=new FormData;s.append("username",h.username),s.append("password",h.password);let{code:r,msg:a,data:o}=await i.Z.post("/myapp/admin/adminLogin",s);0===r?(n.ZP.success("登录成功"),localStorage.setItem("admintoken",o.admin_token),localStorage.setItem("username",o.username),e.push("/admin/main")):n.ZP.error(a||"网络异常"),t(!1)}catch(e){n.ZP.error(e.detail||"网络异常"),t(!1)}},b=async()=>{try{let{code:e,msg:s,data:t}=await i.Z.get("/myapp/admin/basicGlobal/listInfo");0===e&&g(t.global_wechat)}catch(e){n.ZP.error(e.detail||"网络异常")}},v=e=>{"Enter"===e.key&&w()};return(0,r.jsxs)("div",{style:{backgroundImage:"".concat("linear-gradient(to right, #92fe9d 0%, #00c9ff 100%)"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},className:"min-h-screen w-full flex flex-col items-center justify-center",children:[(0,r.jsxs)("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-blue-100 rounded-full opacity-50 blur-3xl hidden sm:block"}),(0,r.jsx)("div",{className:"absolute top-1/3 -right-20 w-60 h-60 bg-indigo-100 rounded-full opacity-40 blur-3xl"}),(0,r.jsx)("div",{className:"absolute -bottom-20 left-1/3 w-80 h-80 bg-cyan-100 rounded-full opacity-30 blur-3xl hidden sm:block"})]}),(0,r.jsxs)("div",{className:"z-10 w-full max-w-sm px-4 sm:px-0",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-gray-800 tracking-wide mb-1",children:"网站后台内容管理系统"}),(0,r.jsx)("p",{className:"text-gray-500 text-xs sm:text-sm",children:"专业的企业官网内容管理平台"})]}),(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-lg rounded shadow-md p-4 sm:p-6 border border-gray-100",children:[(0,r.jsx)("div",{className:"flex items-center justify-center h-10 sm:h-12 w-10 sm:w-12 bg-gradient-to-r from-blue-500 to-cyan-500 mx-auto mb-3 sm:mb-4 shadow-lg",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"miter",children:[(0,r.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"1"}),(0,r.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),(0,r.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-center mb-3 sm:mb-4 text-gray-800",children:"管理员登录"}),(0,r.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700",htmlFor:"username",children:"用户名"}),(0,r.jsx)(o.Z,{prefix:(0,r.jsx)(d.Z,{className:"site-form-item-icon text-gray-400"}),placeholder:"请输入管理员用户名",value:h.username,onChange:e=>f("username",e.target.value),onKeyPress:v,className:"py-1",size:"middle",style:{borderRadius:"2px"}})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700",htmlFor:"password",children:"密码"}),(0,r.jsx)(o.Z.Password,{prefix:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"miter",children:[(0,r.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"1"}),(0,r.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),placeholder:"请输入管理员密码",value:h.password,onChange:e=>f("password",e.target.value),onKeyPress:v,className:"py-1",size:"middle",style:{borderRadius:"2px"}})]}),(0,r.jsx)("div",{className:"pt-3",children:(0,r.jsx)(l.ZP,{loading:s,type:"primary",className:"w-full h-8 sm:h-9 bg-gradient-to-r from-blue-500 to-cyan-500 border-0 shadow-md transition-all",onClick:()=>w(),size:"middle",style:{borderRadius:"2px"},children:s?"登录中...":"登录"})})]})]}),(0,r.jsxs)("div",{className:"mt-4 sm:mt-6 text-center text-gray-500 text-xs",children:[(0,r.jsx)("p",{children:"安全连接 | 管理员专用入口"}),(0,r.jsxs)("p",{className:"mt-1",children:["\xa9 ",m," 企业内容管理系统. 保留所有权利"]}),(0,r.jsxs)("p",{className:"mt-1",children:["技术支持微信: ",p]})]})]})]})};function u(){return(0,r.jsx)(m,{})}},30245:function(e,s,t){"use strict";var r=t(83464),a=t(40257);let n=r.Z.create({baseURL:a.env.NEXT_PUBLIC_BASE_URL,timeout:15e3,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{{let s=localStorage.getItem("admintoken");e.headers.ADMINTOKEN=s||""}return e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e.data,e=>{let{response:s}=e;if(s){if(401===s.status||403===s.status){localStorage.removeItem("admintoken"),localStorage.removeItem("username");let e=a.env.NEXT_PUBLIC_BASE_PATH||"";window.location.href=e+"/adminLogin"}return Promise.reject(s.data)}return Promise.reject(e)}),s.Z=n}},function(e){e.O(0,[3718,3464,2601,6382,4534,5821,6836,2971,2117,1744],function(){return e(e.s=12602)}),_N_E=e.O()}]);