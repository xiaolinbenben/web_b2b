(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3432],{46138:function(e,t,a){Promise.resolve().then(a.bind(a,17107))},17107:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var n=a(57437),s=a(2265),i=a(34755);a(22099),a(50434);var l=a(96257),o=a(54534),c=a(79525),r=a(89076),u=a(35831),d=a(69539),x=a(30245),p=a(40257),m=()=>{let[e,t]=(0,s.useState)({}),[a,i]=(0,s.useState)(!1),[m,h]=(0,s.useState)([]),f=async()=>{try{i(!0);let{code:e,msg:a,data:n}=await x.Z.get("/myapp/admin/about/list");0===e?(t(n),g(n)):o.ZP.error(a||"网络异常"),i(!1)}catch(e){o.ZP.error("网络异常"),i(!1)}},g=e=>{h(v(null==e?void 0:e.about_cover))};(0,s.useEffect)(()=>{f()},[]);let v=e=>(null==e?void 0:e.length)>0?e.split("#").map(e=>({success:!0,name:e,status:"done",url:"".concat(p.env.NEXT_PUBLIC_BASE_URL,"/upload/img/").concat(e)})):[],b=(e,a)=>{t(t=>({...t,[e]:a}))},j=async()=>{try{let t=new FormData;t.append("about_introduction",e.about_introduction||""),t.append("about_cover",e.about_cover||"");let{code:a,msg:n,data:s}=await x.Z.post("/myapp/admin/about/update",t);0===a?(o.ZP.success("操作成功"),f()):o.ZP.error(n||"网络异常")}catch(e){}},_=(e,a)=>{let n=e&&e.length>0?e.join("#"):null;t(e=>({...e,[a]:n}))};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"px-6 py-6 flex flex-col gap-6",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,n.jsx)(l.Z,{title:"企业介绍"}),(0,n.jsx)(u.Z,{placeholder:"请输入描述",autoSize:{minRows:4,maxRows:8},showCount:!0,maxLength:500,value:e.about_introduction,onChange:e=>b("about_introduction",e.target.value),style:{width:600}})]}),(0,n.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,n.jsx)(l.Z,{title:"关于图片"}),(0,n.jsx)(r.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:m,onImageUploadChange:e=>_(e,"about_cover")})]})]}),(0,n.jsx)(d.iz,{}),(0,n.jsx)("div",{className:"pb-6 flex flex-row gap-4 justify-start",children:(0,n.jsx)(c.ZP,{type:"primary",onClick:j,children:"保存"})})]})})};function h(){let e=[{key:"1",label:"关于页",children:(0,n.jsx)(m,{})}];return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"bg-gray-100 px-4 py-4",children:(0,n.jsx)("div",{children:(0,n.jsx)(i.Z,{indicator:{size:e=>24,align:"center"},tabBarStyle:{paddingLeft:"20px",outline:"none",fontWeight:"400"},className:"bg-white custom-tab",defaultActiveKey:"1",items:e,onChange:e=>{}})})})})}}},function(e){e.O(0,[3718,3464,2601,6382,4534,114,5821,1102,8696,6836,6399,3736,293,9539,2099,2971,2117,1744],function(){return e(e.s=46138)}),_N_E=e.O()}]);