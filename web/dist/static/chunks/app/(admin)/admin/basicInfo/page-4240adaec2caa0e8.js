(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6007],{22294:function(e,n,a){Promise.resolve().then(a.bind(a,62175))},62175:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return g}});var l=a(57437),i=a(2265),t=a(34755),s=a(22099),o=a(96257),d=a(54534),r=a(48651),u=a(79525),c=a(89076),m=a(69539),p=a(30245),x=a(40257),v=()=>{let[e,n]=(0,i.useState)(!1),[a,t]=(0,i.useState)({}),[s,v]=(0,i.useState)([]),[g,_]=(0,i.useState)([]),[b,h]=(0,i.useState)([]),[f,j]=(0,i.useState)([]),[B,C]=(0,i.useState)([]),[S,Z]=(0,i.useState)([]),[w,L]=(0,i.useState)([]),[N,U]=(0,i.useState)([]),E=async()=>{try{n(!0);let{code:e,msg:a,data:l}=await p.Z.get("/myapp/admin/basicBanner/list");0===e?(t(l),y(l)):d.ZP.error(a||"网络异常"),n(!1)}catch(e){d.ZP.error("网络异常"),n(!1)}},y=e=>{var n,a,l,i,t,s,o,d,r,u,c,m,p,g,b,f;(null==e?void 0:null===(n=e.banner_home)||void 0===n?void 0:n.length)>0?v(null==e?void 0:null===(r=e.banner_home)||void 0===r?void 0:r.split("#").map(e=>({success:!0,name:e,status:"done",url:x.env.NEXT_PUBLIC_BASE_URL+"/upload/img/"+e}))):v([]),(null==e?void 0:null===(a=e.banner_product)||void 0===a?void 0:a.length)>0?_(null==e?void 0:null===(u=e.banner_product)||void 0===u?void 0:u.split("#").map(e=>({success:!0,name:e,status:"done",url:x.env.NEXT_PUBLIC_BASE_URL+"/upload/img/"+e}))):_([]),(null==e?void 0:null===(l=e.banner_about)||void 0===l?void 0:l.length)>0?h(null==e?void 0:null===(c=e.banner_about)||void 0===c?void 0:c.split("#").map(e=>({success:!0,name:e,status:"done",url:x.env.NEXT_PUBLIC_BASE_URL+"/upload/img/"+e}))):h([]),(null==e?void 0:null===(i=e.banner_contact)||void 0===i?void 0:i.length)>0?j(null==e?void 0:null===(m=e.banner_contact)||void 0===m?void 0:m.split("#").map(e=>({success:!0,name:e,status:"done",url:x.env.NEXT_PUBLIC_BASE_URL+"/upload/img/"+e}))):j([]),(null==e?void 0:null===(t=e.banner_news)||void 0===t?void 0:t.length)>0?C(null==e?void 0:null===(p=e.banner_news)||void 0===p?void 0:p.split("#").map(e=>({success:!0,name:e,status:"done",url:x.env.NEXT_PUBLIC_BASE_URL+"/upload/img/"+e}))):C([]),(null==e?void 0:null===(s=e.banner_case)||void 0===s?void 0:s.length)>0?Z(null==e?void 0:null===(g=e.banner_case)||void 0===g?void 0:g.split("#").map(e=>({success:!0,name:e,status:"done",url:x.env.NEXT_PUBLIC_BASE_URL+"/upload/img/"+e}))):Z([]),(null==e?void 0:null===(o=e.banner_faq)||void 0===o?void 0:o.length)>0?L(null==e?void 0:null===(b=e.banner_faq)||void 0===b?void 0:b.split("#").map(e=>({success:!0,name:e,status:"done",url:x.env.NEXT_PUBLIC_BASE_URL+"/upload/img/"+e}))):L([]),(null==e?void 0:null===(d=e.banner_download)||void 0===d?void 0:d.length)>0?U(null==e?void 0:null===(f=e.banner_download)||void 0===f?void 0:f.split("#").map(e=>({success:!0,name:e,status:"done",url:x.env.NEXT_PUBLIC_BASE_URL+"/upload/img/"+e}))):U([])};(0,i.useEffect)(()=>{E()},[]);let I=(e,n)=>{let a=e&&e.length>0?e.join("#"):null;t(e=>({...e,[n]:a}))},P=async()=>{try{let e=new FormData;e.append("banner_home",a.banner_home||""),e.append("banner_product",a.banner_product||""),e.append("banner_about",a.banner_about||""),e.append("banner_contact",a.banner_contact||""),e.append("banner_news",a.banner_news||""),e.append("banner_case",a.banner_case||""),e.append("banner_faq",a.banner_faq||""),e.append("banner_download",a.banner_download||"");let{code:n,msg:l,data:i}=await p.Z.post("/myapp/admin/basicBanner/update",e);0===n?(d.ZP.success("操作成功"),E()):d.ZP.error(l||"网络异常")}catch(e){}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"px-6",children:[(0,l.jsx)(r.Z,{spinning:e,children:(0,l.jsxs)("div",{className:"flex flex-col gap-6 py-6",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"首页Banner",labelWidth:150}),(0,l.jsx)(c.Z,{maxCount:6,maxSize:2,accept:"image/*",imageList:s,onImageUploadChange:e=>I(e,"banner_home")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"产品中心Banner",labelWidth:150}),(0,l.jsx)(c.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:g,onImageUploadChange:e=>I(e,"banner_product")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"关于页Banner",labelWidth:150}),(0,l.jsx)(c.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:b,onImageUploadChange:e=>I(e,"banner_about")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"联系页Banner",labelWidth:150}),(0,l.jsx)(c.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:f,onImageUploadChange:e=>I(e,"banner_contact")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"新闻页Banner",labelWidth:150}),(0,l.jsx)(c.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:B,onImageUploadChange:e=>I(e,"banner_news")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"案例页Banner",labelWidth:150}),(0,l.jsx)(c.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:S,onImageUploadChange:e=>I(e,"banner_case")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"Faq页Banner",labelWidth:150}),(0,l.jsx)(c.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:w,onImageUploadChange:e=>I(e,"banner_faq")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"下载页Banner",labelWidth:150}),(0,l.jsx)(c.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:N,onImageUploadChange:e=>I(e,"banner_download")})]})]})}),(0,l.jsx)(m.iz,{}),(0,l.jsx)("div",{className:"pb-6 flex flex-row gap-4 justify-start",children:(0,l.jsx)(u.ZP,{type:"primary",onClick:P,children:"提交"})})]})})};function g(){let e=[{key:"1",label:"网站信息",children:(0,l.jsx)(s.Z,{})},{key:"3",label:"Banner信息",children:(0,l.jsx)(v,{})}];return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"bg-gray-100 px-4 py-4",children:(0,l.jsx)("div",{children:(0,l.jsx)(t.Z,{indicator:{size:e=>24,align:"center"},tabBarStyle:{paddingLeft:"20px",outline:"none",fontWeight:"400"},className:"bg-white custom-tab",defaultActiveKey:"1",items:e,onChange:e=>{}})})})})}}},function(e){e.O(0,[3718,3464,2601,6382,4534,114,5821,1102,8696,6836,6399,3736,293,9539,2099,2971,2117,1744],function(){return e(e.s=22294)}),_N_E=e.O()}]);