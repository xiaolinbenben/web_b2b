(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6007],{22294:function(e,a,n){Promise.resolve().then(n.bind(n,62175))},62175:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return x}});var l=n(57437),t=n(2265),s=n(34755),i=n(22099),o=n(96257),d=n(54534),r=n(48651),c=n(79525),u=n(89076),p=n(69539),m=n(30245),h=()=>{let[e,a]=(0,t.useState)(!1),[n,s]=(0,t.useState)({}),[i,h]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[_,f]=(0,t.useState)([]),[j,Z]=(0,t.useState)([]),[w,C]=(0,t.useState)([]),[S,y]=(0,t.useState)([]),[N,B]=(0,t.useState)([]),z=async()=>{try{a(!0);let{code:e,msg:n,data:l}=await m.Z.get("/myapp/admin/basicBanner/list");0===e?(s(l),L(l)):d.ZP.error(n||"网络异常"),a(!1)}catch(e){d.ZP.error("网络异常"),a(!1)}},L=e=>{var a,n,l,t,s,i,o,d,r,c,u,p,m,x,g,_;(null==e?void 0:null===(a=e.banner_home)||void 0===a?void 0:a.length)>0?h(null==e?void 0:null===(r=e.banner_home)||void 0===r?void 0:r.split("#").map(e=>({success:!0,name:e,status:"done",url:"https://shop.beisi.tech/upload/img/"+e}))):h([]),(null==e?void 0:null===(n=e.banner_product)||void 0===n?void 0:n.length)>0?b(null==e?void 0:null===(c=e.banner_product)||void 0===c?void 0:c.split("#").map(e=>({success:!0,name:e,status:"done",url:"https://shop.beisi.tech/upload/img/"+e}))):b([]),(null==e?void 0:null===(l=e.banner_about)||void 0===l?void 0:l.length)>0?v(null==e?void 0:null===(u=e.banner_about)||void 0===u?void 0:u.split("#").map(e=>({success:!0,name:e,status:"done",url:"https://shop.beisi.tech/upload/img/"+e}))):v([]),(null==e?void 0:null===(t=e.banner_contact)||void 0===t?void 0:t.length)>0?f(null==e?void 0:null===(p=e.banner_contact)||void 0===p?void 0:p.split("#").map(e=>({success:!0,name:e,status:"done",url:"https://shop.beisi.tech/upload/img/"+e}))):f([]),(null==e?void 0:null===(s=e.banner_news)||void 0===s?void 0:s.length)>0?Z(null==e?void 0:null===(m=e.banner_news)||void 0===m?void 0:m.split("#").map(e=>({success:!0,name:e,status:"done",url:"https://shop.beisi.tech/upload/img/"+e}))):Z([]),(null==e?void 0:null===(i=e.banner_case)||void 0===i?void 0:i.length)>0?C(null==e?void 0:null===(x=e.banner_case)||void 0===x?void 0:x.split("#").map(e=>({success:!0,name:e,status:"done",url:"https://shop.beisi.tech/upload/img/"+e}))):C([]),(null==e?void 0:null===(o=e.banner_faq)||void 0===o?void 0:o.length)>0?y(null==e?void 0:null===(g=e.banner_faq)||void 0===g?void 0:g.split("#").map(e=>({success:!0,name:e,status:"done",url:"https://shop.beisi.tech/upload/img/"+e}))):y([]),(null==e?void 0:null===(d=e.banner_download)||void 0===d?void 0:d.length)>0?B(null==e?void 0:null===(_=e.banner_download)||void 0===_?void 0:_.split("#").map(e=>({success:!0,name:e,status:"done",url:"https://shop.beisi.tech/upload/img/"+e}))):B([])};(0,t.useEffect)(()=>{z()},[]);let W=(e,a)=>{let n=e&&e.length>0?e.join("#"):null;s(e=>({...e,[a]:n}))},I=async()=>{try{let e=new FormData;e.append("banner_home",n.banner_home||""),e.append("banner_product",n.banner_product||""),e.append("banner_about",n.banner_about||""),e.append("banner_contact",n.banner_contact||""),e.append("banner_news",n.banner_news||""),e.append("banner_case",n.banner_case||""),e.append("banner_faq",n.banner_faq||""),e.append("banner_download",n.banner_download||"");let{code:a,msg:l,data:t}=await m.Z.post("/myapp/admin/basicBanner/update",e);0===a?(d.ZP.success("操作成功"),z()):d.ZP.error(l||"网络异常")}catch(e){}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"px-6",children:[(0,l.jsx)(r.Z,{spinning:e,children:(0,l.jsxs)("div",{className:"flex flex-col gap-6 py-6",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"首页Banner",labelWidth:150}),(0,l.jsx)(u.Z,{maxCount:6,maxSize:2,accept:"image/*",imageList:i,onImageUploadChange:e=>W(e,"banner_home")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"产品中心Banner",labelWidth:150}),(0,l.jsx)(u.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:x,onImageUploadChange:e=>W(e,"banner_product")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"关于页Banner",labelWidth:150}),(0,l.jsx)(u.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:g,onImageUploadChange:e=>W(e,"banner_about")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"联系页Banner",labelWidth:150}),(0,l.jsx)(u.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:_,onImageUploadChange:e=>W(e,"banner_contact")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"新闻页Banner",labelWidth:150}),(0,l.jsx)(u.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:j,onImageUploadChange:e=>W(e,"banner_news")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"案例页Banner",labelWidth:150}),(0,l.jsx)(u.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:w,onImageUploadChange:e=>W(e,"banner_case")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"Faq页Banner",labelWidth:150}),(0,l.jsx)(u.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:S,onImageUploadChange:e=>W(e,"banner_faq")})]}),(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)(o.Z,{title:"下载页Banner",labelWidth:150}),(0,l.jsx)(u.Z,{maxCount:1,maxSize:2,accept:"image/*",imageList:N,onImageUploadChange:e=>W(e,"banner_download")})]})]})}),(0,l.jsx)(p.iz,{}),(0,l.jsx)("div",{className:"pb-6 flex flex-row gap-4 justify-start",children:(0,l.jsx)(c.ZP,{type:"primary",onClick:I,children:"提交"})})]})})};function x(){let e=[{key:"1",label:"网站信息",children:(0,l.jsx)(i.Z,{})},{key:"3",label:"Banner信息",children:(0,l.jsx)(h,{})}];return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"bg-gray-100 px-4 py-4",children:(0,l.jsx)("div",{children:(0,l.jsx)(s.Z,{indicator:{size:e=>24,align:"center"},tabBarStyle:{paddingLeft:"20px",outline:"none",fontWeight:"400"},className:"bg-white custom-tab",defaultActiveKey:"1",items:e,onChange:e=>{}})})})})}}},function(e){e.O(0,[3718,3464,2601,6382,4534,114,5821,1102,8696,6836,6399,3736,293,9539,2099,2971,2117,1744],function(){return e(e.s=22294)}),_N_E=e.O()}]);